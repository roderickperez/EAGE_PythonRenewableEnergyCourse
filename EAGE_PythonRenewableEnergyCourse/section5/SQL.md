# SQL Basics in the context of Renewable Energy Data

## SQL

SQL, or Structured Query Language, is a programming language used to manage and interact with databases. SQL commands allow you to perform operations such as querying data, modifying tables, inserting records, and even deleting entries.

Below is a list of basic SQL commands, with examples using data related to renewable energy production from sources like wind, solar, geothermal, and hydro.

---

### SELECT and FROM

The `SELECT` statement is used to query specific columns from a table. The example below selects three columns from an "energy_data" table and combines them into a calculated column.

```sql
SELECT country, energy_source, energy_generated, 
       energy_generated * 1.1 AS adjusted_energy
FROM energy_data;
```

**Example output:**

| Country   | Energy_Source | Energy_Generated (MWh) | Adjusted_Energy (MWh) |
|-----------|---------------|------------------------|-----------------------|
| Germany   | Wind          | 10,000                 | 11,000                |
| USA       | Solar         | 15,000                 | 16,500                |
| Iceland   | Geothermal    | 8,500                  | 9,350                 |
| Brazil    | Hydro         | 12,000                 | 13,200                |

---

### CREATE TABLE

`CREATE TABLE` is used to define a new table in the database. Below, we create a table to store renewable energy production data.

```sql
CREATE TABLE energy_data (
    country VARCHAR(50),
    energy_source VARCHAR(50),
    energy_generated INT,
    date DATE
);
```

---

### ALTER TABLE

`ALTER TABLE` is used to modify the structure of an existing table. In this case, we add a column for the region.

```sql
ALTER TABLE energy_data
ADD region VARCHAR(50);
```

---

### CHECK

The `CHECK` constraint ensures that the values entered into a column meet specified conditions. Here, we create a table that restricts the energy produced to positive values only.

```sql
CREATE TABLE energy_data (
    country VARCHAR(50),
    energy_source VARCHAR(50),
    energy_generated INT,
    date DATE,
    CHECK (energy_generated >= 0)
);
```

---

### WHERE

The `WHERE` clause filters rows in the result set. Below, we retrieve records for wind and solar energy generated in 2024.

```sql
SELECT country, energy_source, energy_generated
FROM energy_data
WHERE energy_source IN ('Wind', 'Solar') 
  AND date BETWEEN '2024-01-01' AND '2024-12-31';
```

---

### UPDATE

`UPDATE` modifies existing records. To update the energy generated by wind power in Germany, use:

```sql
UPDATE energy_data
SET energy_generated = 20,000
WHERE country = 'Germany' AND energy_source = 'Wind';
```

---

### GROUP BY

`GROUP BY` allows you to group data and perform aggregate functions like `SUM()`. Here, we sum the total energy produced by each energy source.

```sql
SELECT energy_source, SUM(energy_generated) AS total_energy
FROM energy_data
GROUP BY energy_source;
```

**Example output:**

| Energy_Source | Total_Energy (MWh) |
|---------------|--------------------|
| Wind          | 45,000             |
| Solar         | 30,000             |
| Geothermal    | 8,500              |
| Hydro         | 25,000             |

---

### HAVING

`HAVING` filters groups after aggregation. This query shows energy sources that generated more than 20,000 MWh.

```sql
SELECT energy_source, SUM(energy_generated) AS total_energy
FROM energy_data
GROUP BY energy_source
HAVING SUM(energy_generated) > 20,000;
```

---

### AVG()

`AVG()` calculates the average of a numeric column. The query below calculates the average energy produced by each renewable energy source.

```sql
SELECT energy_source, AVG(energy_generated) AS avg_energy
FROM energy_data
GROUP BY energy_source;
```

---

### AS

`AS` renames a column or table for better readability. The query below renames columns to make them easier to understand.

```sql
SELECT country AS Nation, energy_source AS Source, energy_generated AS EnergyProduced
FROM energy_data;
```

---

### ORDER BY

`ORDER BY` sorts the results. The following query sorts countries by energy generated in descending order.

```sql
SELECT country, energy_source, energy_generated
FROM energy_data
ORDER BY energy_generated DESC;
```

---

### COUNT

`COUNT` returns the number of rows in a table. Here’s an example counting the number of records for wind energy production.

```sql
SELECT COUNT(*) AS wind_records_count
FROM energy_data
WHERE energy_source = 'Wind';
```

---

### DELETE

`DELETE` removes records from a table. The following query deletes all geothermal records for Iceland.

```sql
DELETE FROM energy_data
WHERE country = 'Iceland' AND energy_source = 'Geothermal';
```

---

### INNER JOIN

`INNER JOIN` combines rows from two or more tables based on a related column. Below, we join the `energy_data` table with a `countries` table to include more information about each country.

```sql
SELECT e.country, e.energy_source, e.energy_generated, c.continent
FROM energy_data AS e
JOIN countries AS c ON e.country = c.country_name;
```

---

### LEFT JOIN

`LEFT JOIN` returns all rows from the left table, even if there are no matching rows in the right table. The following query includes regions, even if there’s no match for some countries.

```sql
SELECT e.country, e.energy_source, e.energy_generated, r.region_name
FROM energy_data AS e
LEFT JOIN regions AS r ON e.country = r.country;
```

---

### INSERT

`INSERT` adds new records into a table. Below, we insert a new record for hydroelectric energy production in Canada.

```sql
INSERT INTO energy_data (country, energy_source, energy_generated, date)
VALUES ('Canada', 'Hydro', 18,000, '2024-05-15');
```

---

### LIKE

`LIKE` is used to filter rows based on a pattern. The following query retrieves countries where the energy source starts with "S" (e.g., Solar).

```sql
SELECT country, energy_source, energy_generated
FROM energy_data
WHERE energy_source LIKE 'S%';
```

**Example output:**

| Country   | Energy_Source | Energy_Generated (MWh) |
|-----------|---------------|------------------------|
| USA       | Solar         | 15,000                 |
| Spain     | Solar         | 9,500                  |

---

### FULL OUTER JOIN

A `FULL OUTER JOIN` returns all rows where there is a match in either table. This query lists all customers and their corresponding orders.

```sql
SELECT Customers.CustomerName, Orders.OrderID
FROM Customers
FULL OUTER JOIN Orders
ON Customers.CustomerID = Orders.CustomerID
ORDER BY Customers.CustomerName;